{"version":3,"sources":["../../src/utils.js","components/WiseLayout.jsx","components/PieChart.jsx","components/BarChart.jsx","components/ChartsIntro.jsx","config.js","index.js"],"names":["exports","str","key","val","parseLinks","parts","url","rel","obj","changesOrigin","RightColumnLayout","props","bodyContent","bodyFooter","bodyHeader","header","sideContent","Grid","columns","stackable","className","Row","Column","widescreen","PieChart","data","margin","top","right","bottom","left","innerRadius","padAngle","cornerRadius","activeOuterRadiusOffset","borderWidth","borderColor","from","modifiers","arcLinkLabelsSkipAngle","arcLinkLabelsTextColor","arcLinkLabelsThickness","arcLinkLabelsColor","arcLabelsSkipAngle","arcLabelsTextColor","defs","id","type","background","color","size","padding","stagger","rotation","lineWidth","spacing","fill","legends","BarChart","keys","indexBy","valueScale","indexScale","round","valueFormat","format","enabled","colors","scheme","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","legendPosition","legendOffset","axisLeft","labelSkipWidth","labelSkipHeight","labelTextColor","dataFrom","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemDirection","itemOpacity","symbolSize","effects","on","style","REQUEST","aggs","Descriptors","terms","field","Sectors","MeasureImpacts","Origin","OriginByDescriptor","getOriginOfMeasure","buckets","map","label","value","doc_count","getSectors","getBarChartData","Descriptor","Object","assign","ChartsIntro","appConfig","React","useState","chartData","setChartData","useEffect","alreadyRequested","a","runRequest","resp","body","aggregations","fetchData","barData","height","filter","k","details","titleField","extraFields","sections","fields","title","condition","rec","raw","startsWith","wise_config","host","elastic_index","layoutComponent","searchBoxComponent","facets","suiFacet","isFilterable","isMulti","highlight","sortOptions","name","tableViewParams","initialView","factory","listingViewParams","wise_resolve","WiseLayout","component","config","configRegistry","registry","searchui","wise","mergeConfig","default","resolve","console","log","ReactDOM","render","appName","document","getElementById"],"mappings":"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","file":"static/js/main.2d9084b2.chunk.js","sourcesContent":["/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = (str) => str.split(/ *; */).shift();\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = (val) => {\n  const obj = {};\n  for (const str of val.split(/ *; */)) {\n    const parts = str.split(/ *= */);\n    const key = parts.shift();\n    const val = parts.shift();\n\n    if (key && val) obj[key] = val;\n  }\n\n  return obj;\n};\n\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = (val) => {\n  const obj = {};\n  for (const str of val.split(/ *, */)) {\n    const parts = str.split(/ *; */);\n    const url = parts[0].slice(1, -1);\n    const rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n  }\n\n  return obj;\n};\n\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = (header, changesOrigin) => {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header.host;\n  // secuirty\n  if (changesOrigin) {\n    delete header.authorization;\n    delete header.cookie;\n  }\n\n  return header;\n};\n","import React from 'react';\nimport { Grid } from 'semantic-ui-react';\n\nconst RightColumnLayout = (props) => {\n  const { bodyContent, bodyFooter, bodyHeader, header, sideContent } = props;\n  return (\n    <div>\n      <Grid columns={2} stackable className=\"body-content\">\n        <Grid.Row>\n          <Grid.Column widescreen={12}>\n            <div>\n            {header}\n            </div>\n            <div>{bodyHeader}</div>\n            <div>{bodyContent}</div>\n          </Grid.Column>\n          <Grid.Column widescreen=\"4\">\n            <h3>Filter by</h3>\n            <div>{sideContent}</div>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n      <Grid className=\"body-footer\">\n        <Grid.Row>\n          <Grid.Column widescreen={12}>{bodyFooter}</Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </div>\n  );\n};\n\nexport default RightColumnLayout;\n","import { ResponsivePie } from '@nivo/pie'\n// [ { match: { id: 'ruby' }, id: 'dots' }, { match: { id: 'c' }, id: 'dots' }, { match: { id: 'go' }, id: 'dots' }, { match: { id: 'python' }, id: 'dots' }, { match: { id: 'scala' }, id: 'lines' }, { match: { id: 'lisp' }, id: 'lines' }, { match: { id: 'elixir' }, id: 'lines' }, { match: { id: 'javascript' }, id: 'lines' } ]\n\nexport const PieChart = ({ data /* see data tab */ }) => (\n    <ResponsivePie\n        data={data}\n        margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\n        innerRadius={0.5}\n        padAngle={0.7}\n        cornerRadius={3}\n        activeOuterRadiusOffset={8}\n        borderWidth={1}\n        borderColor={{ from: 'color', modifiers: [ [ 'darker', 0.2 ] ] }}\n        arcLinkLabelsSkipAngle={10}\n        arcLinkLabelsTextColor=\"#333333\"\n        arcLinkLabelsThickness={2}\n        arcLinkLabelsColor={{ from: 'color' }}\n        arcLabelsSkipAngle={10}\n        arcLabelsTextColor={{ from: 'color', modifiers: [ [ 'darker', 2 ] ] }}\n        defs={[\n            {\n                id: 'dots',\n                type: 'patternDots',\n                background: 'inherit',\n                color: 'rgba(255, 255, 255, 0.3)',\n                size: 4,\n                padding: 1,\n                stagger: true\n            },\n            {\n                id: 'lines',\n                type: 'patternLines',\n                background: 'inherit',\n                color: 'rgba(255, 255, 255, 0.3)',\n                rotation: -45,\n                lineWidth: 6,\n                spacing: 10\n            }\n        ]}\n        fill={[]}\n        legends={[\n            // {\n            //     anchor: 'bottom',\n            //     direction: 'row',\n            //     justify: false,\n            //     translateX: 0,\n            //     translateY: 56,\n            //     itemsSpacing: 0,\n            //     itemWidth: 100,\n            //     itemHeight: 18,\n            //     itemTextColor: '#999',\n            //     itemDirection: 'left-to-right',\n            //     itemOpacity: 1,\n            //     symbolSize: 18,\n            //     symbolShape: 'circle',\n            //     effects: [\n            //         {\n            //             on: 'hover',\n            //             style: {\n            //                 itemTextColor: '#000'\n            //             }\n            //         }\n            //     ]\n            // }\n        ]}\n    />\n);\n","// install (please make sure versions match peerDependencies)\n// yarn add @nivo/core @nivo/bar\nimport { ResponsiveBar } from '@nivo/bar'\n// make sure parent container have a defined height when using\n// responsive component, otherwise height will be 0 and\n// no chart will be rendered.\n// website examples showcase many properties,\n// you'll often use just a few of them.\n\n// const fill = [ { match: { id: 'fries' }, id: 'dots' }, { match: { id: 'sandwich' }, id: 'lines' }];\n//[ 'hot dog', 'burger', 'sandwich', 'kebab', 'fries', 'donut' ]\n\nexport const BarChart = ({ data /* see data tab */, keys, indexBy=\"country\" }) => (\n  <ResponsiveBar\n    data={data}\n    keys={keys}\n    indexBy={indexBy}\n    margin={{ top: 50, right: 130, bottom: 50, left: 60 }}\n    padding={0.3}\n    valueScale={{ type: 'linear' }}\n    indexScale={{ type: 'band', round: true }}\n    valueFormat={{ format: '', enabled: false }}\n    colors={{ scheme: 'nivo' }}\n    defs={[\n      {\n        id: 'dots',\n          type: 'patternDots',\n          background: 'inherit',\n          color: '#38bcb2',\n          size: 4,\n          padding: 1,\n          stagger: true\n      },\n      {\n        id: 'lines',\n        type: 'patternLines',\n        background: 'inherit',\n        color: '#eed312',\n        rotation: -45,\n        lineWidth: 6,\n        spacing: 10\n      }\n    ]}\n    fill={[ ]}\n    borderColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}\n    axisTop={null}\n    axisRight={null}\n    axisBottom={{\n      tickSize: 5,\n      tickPadding: 5,\n      tickRotation: 0,\n      // legend: 'country',\n      legendPosition: 'middle',\n      legendOffset: 32\n    }}\n    axisLeft={{\n      tickSize: 5,\n      tickPadding: 5,\n      tickRotation: 0,\n      // legend: 'Count',\n      legendPosition: 'middle',\n      legendOffset: -40\n    }}\n    labelSkipWidth={12}\n    labelSkipHeight={12}\n    labelTextColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}\n    legends={[\n      {\n        dataFrom: 'keys',\n          anchor: 'bottom-right',\n          direction: 'column',\n          justify: false,\n          translateX: 120,\n          translateY: 0,\n          itemsSpacing: 2,\n          itemWidth: 100,\n          itemHeight: 20,\n          itemDirection: 'left-to-right',\n          itemOpacity: 0.85,\n          symbolSize: 20,\n          effects: [\n            {\n              on: 'hover',\n              style: {\n                itemOpacity: 1\n              }\n            }\n          ]\n      }\n    ]}\n  />\n)\n","import React from 'react';\nimport { runRequest } from '@eeacms/search';\nimport {PieChart} from './PieChart'\nimport {BarChart} from './BarChart'\nimport { Grid } from 'semantic-ui-react'; // , Segment\n\n\nconst REQUEST = {\n  size: 0,\n  aggs: {\n    Descriptors: {\n      terms: {\n        field: \"Descriptors\",\n      }\n    },\n    Sectors: {\n      terms: {\n        field: \"Sector\",\n      }\n    },\n    MeasureImpacts: {\n      terms: {\n        field: \"Measure Impacts to\",\n      }\n    },\n    Origin: {\n      terms: {\n        field: \"Origin of the measure\",\n      }\n    },\n    OriginByDescriptor: {\n      terms: {\n        field: \"Descriptors\",\n      },\n      aggs: {\n        Origin: {\n          terms: {\n            field:  \"Origin of the measure\",\n          },\n        }\n      }\n    }\n  }\n};\n\nconst getMeasureImpacts = (data) => {\n  return data.MeasureImpacts.buckets.map(({key, doc_count}) => ({id: key, label: key, value: doc_count, }));\n}\n\nconst getOriginOfMeasure = (data) => {\n  return data.Origin.buckets.map(({key, doc_count}) => ({id: key, label: key, value: doc_count, }));\n}\n\nconst getSectors = (data) => {\n  return data.Sectors.buckets.map(({key, doc_count}) => ({id: key, label: key, value: doc_count, }));\n}\n\nconst getBarChartData = (data) => {\n  return data.OriginByDescriptor.buckets.map(({key, doc_count, Origin}) => ({\n    Descriptor: key,\n    ...(Object.assign({},\n      ...(Origin.buckets.map(({key, doc_count}) => ({[key]: doc_count})))))\n  }));\n}\n\nconst ChartsIntro = (props) => {\n  const {appConfig} = props;\n  const [chartData, setChartData] = React.useState();\n\n  React.useEffect(() => {\n    let alreadyRequested = false;\n\n    async function fetchData() {\n      const resp = await runRequest(REQUEST, appConfig)\n      if (!alreadyRequested) setChartData(resp.body?.aggregations);\n    }\n    fetchData();\n    return () => { alreadyRequested = true }\n  }, [appConfig]);\n\n  const barData = chartData ? getBarChartData(chartData) : [];\n  // console.log('all', chartData);\n  // console.log('barData', barData);\n\n  return <div className=\"charts-intro-page\">\n    {chartData ? ( <>\n\n      <Grid columns=\"3\">\n        <Grid.Row>\n          <Grid.Column >\n            <div style={{height: '400px', }}>\n              <h3>Measure impacts to</h3>\n              <PieChart data={getMeasureImpacts(chartData)}/>\n            </div>\n          </Grid.Column>\n          <Grid.Column >\n            <div style={{height: '400px', }}>\n              <h3>Origin of the measure</h3>\n              <PieChart data={getOriginOfMeasure(chartData)}/>\n            </div>\n          </Grid.Column>\n          <Grid.Column >\n            <div style={{height: '400px', }}>\n              <h3>Sectors</h3>\n              <PieChart data={getSectors(chartData)}/>\n            </div>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n      <div style={{height: \"600px\"}}>\n        <h3>Origin of the measure/Descriptors</h3>\n        <BarChart\n          data={getBarChartData(chartData)}\n          keys={Object.keys(barData[0] || {}).filter(k => k!== 'Descriptor')}\n          indexBy=\"Descriptor\"/>\n      </div>\n    </>) : ''}\n\n  </div>\n}\n\nexport default ChartsIntro;\n","import { suiFacet, mergeConfig } from '@eeacms/search';   // multiTermFacet,\nimport WiseLayout from './components/WiseLayout';\nimport ChartsIntro from './components/ChartsIntro';\n\nconst details = {\n  titleField: 'Measure name',\n  extraFields: [\n    {\n      field: 'Origin of the measure',\n      label: 'Origin of the measure',\n    },\n    {\n      field: 'Descriptors',\n      label: 'MSFD Descriptors',\n    },\n    {\n      field: 'Sector',\n      label: 'Sector',\n    },\n  ],\n  sections: [\n    {\n      fields: [\n        { field: 'Measure name', },\n        { field: 'Sector', },\n        { field: 'Use or activity', },\n        { field: 'Origin of the measure', },\n        { field: 'Nature of the measure', },\n        { field: 'Status', },\n        {\n          field: 'Measure Impacts to',\n          label: 'Measure impacts to',\n        },\n        {\n          field: 'Measure Impacts to (further details)',\n          label: 'Measure impacts to, further details ',\n        },\n        { field: 'Water body category', },\n        { field: 'Spatial scope', },\n        { field: 'Country', label: 'Country coverage'},\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => rec['Origin of the measure']?.raw === 'WFD (Directive 2000/60/EC)',\n      fields: [\n        { field: 'Nature of physical modification', },\n        { field: 'Effect on hydromorphology', },\n        { field: 'Ecological impacts', },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => rec['Origin of the measure']?.raw === 'MSFD (Directive 2008/56/EC)',\n      fields: [\n        {field: 'Link to existing policies', },\n        {field: 'KTMs it links to', },\n        {field: 'Relevant targets', },\n        {field: 'Relevant features from MSFD Annex III', },\n        {field: 'Spatial  scope_MSFD', label: \"MSFD Spatial scope\"},\n        {field: 'Keywords', },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => {\n        return rec['Origin of the measure']?.raw === 'HD (Directive 92/43/EEC)' && rec['MeasureCode'] && rec['MeasureCode'].raw.startsWith('HDH');\n      },\n      fields: [\n        {field: 'Measure purpose', },\n        {field: 'Measure type recommended to address E02 and/or E03', },\n        {field: 'Measure location', },\n        {field: 'Measure response', },\n        {field: 'Measure additional info', },\n        {field: 'Pressure type', label: 'Type of pressure'},\n        {field: 'Pressure name', },\n        {field: 'Ranking', },\n        {field: 'Region', },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => {\n        return rec['Origin of the measure']?.raw === 'HD (Directive 92/43/EEC)' && rec['MeasureCode'] && rec['MeasureCode'].raw.startsWith('HDSP');\n      },\n      fields: [\n        {field: 'Measure purpose', },\n        {field: 'Measure type recommended to address E02 and/or E03', },\n        {field: 'Measure location', },\n        {field: 'Measure response', },\n        {field: 'Measure additional info', },\n        {field: 'Pressure type', label: 'Type of pressure'},\n        {field: 'Pressure name', },\n        {field: 'Ranking', },\n        {field: 'Region', label: \"Marine region\"},\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => rec['Origin of the measure']?.raw === 'BD (Directive 79/409/EEC)',\n      fields: [\n        {field: 'Measure purpose', },\n        {field: 'Measure type recommended to address E02 and/or E03', },\n        {field: 'Measure location', },\n        {field: 'Measure response', },\n        {field: 'Measure additional info', },\n        {field: 'Pressure type', label: 'Type of pressure'},\n        {field: 'Pressure name', },\n        {field: 'Ranking', },\n        {field: 'Season', },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => rec['Origin of the measure']?.raw === 'MSPD (Directive 2008/56/EC)',\n      fields: [\n        { field: 'Nature of physical modification', },\n        { field: 'MSPD implementation status', },\n        { field: 'Shipping Tackled', },\n        { field: 'Traffic separation scheme', },\n        { field: 'Priority Areas', },\n        { field: 'Approaching Areas', },\n        { field: 'Precautionary areas', },\n        { field: 'Areas to be avoided', },\n        { field: 'Future Scenarios', },\n        { field: 'Source', },\n        { field: 'Keywords', },\n        { field: 'Authority', },\n        { field: 'General View', },\n        { field: 'Ports', },\n        { field: 'Future Expectations', },\n        { field: 'Safety manner', },\n        { field: 'Objective', },\n        { field: 'Categories', },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => rec['Origin of the measure']?.raw === 'Sectorial',\n      fields: [\n        { field: 'Impacts', },\n        { field: 'Spatial scale', },\n        { field: 'Source', label: 'Source(s)'},\n      ],\n    },\n  ],\n};\n\n\nconst wise_config = {\n  host: \"http://localhost:7000\",\n  elastic_index: \"es\",\n  layoutComponent: 'WiseLayout',\n  searchBoxComponent: 'SimpleSearchInput',\n  facets: [\n    suiFacet({\n      field: 'Origin of the measure',\n      label: 'Origin of the measure',\n      isFilterable: false\n    }),\n    suiFacet({ field: 'Sector', isMulti: true, isFilterable: false }),\n    suiFacet({ field: 'Descriptors', isFilterable: false }),\n    // suiFacet({ field: 'Country', isFilterable: true, isMulti: true }),\n    // suiFacet({ field: 'Use_or_activity', label: 'Use or activity' }),\n    // suiFacet({ field: 'Status' }),\n    // suiFacet({\n    //   field: 'Nature_of_the_measure',\n    //   label: 'Nature of the measure',\n    // }),\n    // suiFacet({ field: 'Water_body_category', label: 'Water body category' }),\n    // suiFacet({ field: 'Spatial_scope', label: 'Spatial scope' }),\n    // suiFacet({ field: 'Measure_Impacts_to', label: 'Measure impacts' }),\n  ],\n  highlight: {\n    fields: {\n      // Measure_name: {},\n    },\n  },\n  sortOptions: [\n    {\n      name: 'Title',\n      value: 'Measure name',\n      direction: 'asc',\n    },\n  ],\n  tableViewParams: {\n    titleField: 'Measure name',\n    columns: [\n      {\n        title: 'Measure name',\n        field: 'Measure name',\n      },\n      {\n        title: 'Code',\n        field: 'id',\n      },\n      {\n        title: 'Origin of the measure',\n        field: 'Origin of the measure',\n      },\n      {\n        field: 'Descriptors',\n        label: 'MSFD Descriptors',\n      },\n      {\n        field: 'Sector',\n        label: 'Sector',\n      },\n    ],\n    details,\n  },\n  initialView: {\n    factory: \"ChartsIntro\"\n  },\n  listingViewParams: {\n    titleField: 'Measure name',\n    // urlField: 'CodeCatalogue',\n    extraFields: [\n      {\n        field: 'Origin of the measure',\n        label: 'Origin of the measure',\n      },\n      {\n        field: 'Descriptors',\n        label: 'MSFD Descriptors',\n      },\n      {\n        field: 'Sector',\n        label: 'Sector',\n      },\n    ],\n    details,\n  },\n};\n\n\nconst wise_resolve = {\n  WiseLayout: {\n    component: WiseLayout\n  },\n  ChartsIntro: {\n    component: ChartsIntro\n  }\n};\n\nexport default function installDemo(config) {\n  config.searchui.wise = mergeConfig(wise_config, config.searchui.default);\n\n  config.resolve = mergeConfig(wise_resolve, config.resolve);\n\n  return config;\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {SearchApp, registry} from '@eeacms/search';\nimport installConfig from './config';\n\nimport '@elastic/react-search-ui-views/lib/styles/styles.css';\nimport \"@eeacms/search-less/dist/main.css\";\n\nimport './less/custom.less';\n\n// ++resource++measures-catalogue/\n// import './index.css';\n\nconst configRegistry = installConfig(registry);\n\nconsole.log('config', configRegistry);\n\nReactDOM.render(\n    <SearchApp registry={configRegistry} appName=\"wise\" />,\n  document.getElementById('search-app')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// import reportWebVitals from './reportWebVitals';\n// reportWebVitals();\n"],"sourceRoot":""}