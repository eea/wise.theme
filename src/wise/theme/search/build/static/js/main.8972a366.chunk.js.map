{"version":3,"sources":["../../src/utils.js","components/WiseLayout.jsx","components/PieChart.jsx","components/BarChart.jsx","components/ChartsIntro.jsx","config.js","index.js"],"names":["exports","str","key","val","parseLinks","parts","url","rel","obj","changesOrigin","RightColumnLayout","props","bodyContent","bodyFooter","bodyHeader","header","sideContent","Grid","columns","stackable","className","Row","Column","widescreen","PieChart","data","margin","top","right","bottom","left","innerRadius","padAngle","cornerRadius","activeOuterRadiusOffset","borderWidth","borderColor","from","modifiers","arcLinkLabelsSkipAngle","arcLinkLabelsTextColor","arcLinkLabelsThickness","arcLinkLabelsColor","arcLabelsSkipAngle","arcLabelsTextColor","defs","id","type","background","color","size","padding","stagger","rotation","lineWidth","spacing","fill","legends","BarChart","keys","indexBy","valueScale","indexScale","round","valueFormat","format","enabled","colors","scheme","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","legendPosition","legendOffset","axisLeft","labelSkipWidth","labelSkipHeight","labelTextColor","dataFrom","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemDirection","itemOpacity","symbolSize","effects","on","style","REQUEST","aggs","Descriptors","terms","field","Sectors","MeasureImpacts","Origin","OriginByDescriptor","getMeasureImpacts","buckets","map","label","value","doc_count","getOriginOfMeasure","getSectors","OriginTable","rows","Table","Header","HeaderCell","col","origin","descriptor","i","Cell","item","r","parseInt","reduce","a","b","Descriptor","ChartsIntro","appConfig","React","useState","chartData","setChartData","useEffect","alreadyRequested","runRequest","resp","body","aggregations","fetchData","barData","Object","assign","sort","slice","console","log","mobile","tablet","computer","height","filter","k","details","titleField","extraFields","sections","fields","title","condition","rec","raw","startsWith","wise_config","host","elastic_index","layoutComponent","searchBoxInputComponent","useSearchPhrases","facets","suiFacet","isFilterable","isMulti","highlight","sortOptions","name","tableViewParams","initialView","factory","listingViewParams","wise_resolve","WiseLayout","component","config","configRegistry","registry","searchui","wise","mergeConfig","default","resolve","ReactDOM","render","appName","document","getElementById"],"mappings":"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","file":"static/js/main.8972a366.chunk.js","sourcesContent":["/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = (str) => str.split(/ *; */).shift();\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = (val) => {\n  const obj = {};\n  for (const str of val.split(/ *; */)) {\n    const parts = str.split(/ *= */);\n    const key = parts.shift();\n    const val = parts.shift();\n\n    if (key && val) obj[key] = val;\n  }\n\n  return obj;\n};\n\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = (val) => {\n  const obj = {};\n  for (const str of val.split(/ *, */)) {\n    const parts = str.split(/ *; */);\n    const url = parts[0].slice(1, -1);\n    const rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n  }\n\n  return obj;\n};\n\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = (header, changesOrigin) => {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header.host;\n  // secuirty\n  if (changesOrigin) {\n    delete header.authorization;\n    delete header.cookie;\n  }\n\n  return header;\n};\n","import React from 'react';\nimport { Grid } from 'semantic-ui-react';\n\nconst RightColumnLayout = (props) => {\n  const { bodyContent, bodyFooter, bodyHeader, header, sideContent } = props;\n  return (\n    <div>\n      <Grid columns={2} stackable className=\"body-content\">\n        <Grid.Row>\n          <Grid.Column widescreen={12}>\n            <div>{header}</div>\n            <div>{bodyHeader}</div>\n            <div>{bodyContent}</div>\n          </Grid.Column>\n          <Grid.Column widescreen=\"4\">\n            <h3>Filter by</h3>\n            <div>{sideContent}</div>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n      <Grid className=\"body-footer\">\n        <Grid.Row>\n          <Grid.Column widescreen={12}>{bodyFooter}</Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </div>\n  );\n};\n\nexport default RightColumnLayout;\n","import { ResponsivePie } from '@nivo/pie';\n// [ { match: { id: 'ruby' }, id: 'dots' }, { match: { id: 'c' }, id: 'dots' }, { match: { id: 'go' }, id: 'dots' }, { match: { id: 'python' }, id: 'dots' }, { match: { id: 'scala' }, id: 'lines' }, { match: { id: 'lisp' }, id: 'lines' }, { match: { id: 'elixir' }, id: 'lines' }, { match: { id: 'javascript' }, id: 'lines' } ]\n\nexport const PieChart = ({ data /* see data tab */ }) => (\n  <ResponsivePie\n    data={data}\n    margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\n    innerRadius={0.5}\n    padAngle={0.7}\n    cornerRadius={3}\n    activeOuterRadiusOffset={8}\n    borderWidth={1}\n    borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}\n    arcLinkLabelsSkipAngle={10}\n    arcLinkLabelsTextColor=\"#333333\"\n    arcLinkLabelsThickness={2}\n    arcLinkLabelsColor={{ from: 'color' }}\n    arcLabelsSkipAngle={10}\n    arcLabelsTextColor={{ from: 'color', modifiers: [['darker', 2]] }}\n    defs={[\n      {\n        id: 'dots',\n        type: 'patternDots',\n        background: 'inherit',\n        color: 'rgba(255, 255, 255, 0.3)',\n        size: 4,\n        padding: 1,\n        stagger: true,\n      },\n      {\n        id: 'lines',\n        type: 'patternLines',\n        background: 'inherit',\n        color: 'rgba(255, 255, 255, 0.3)',\n        rotation: -45,\n        lineWidth: 6,\n        spacing: 10,\n      },\n    ]}\n    fill={[]}\n    legends={\n      [\n        // {\n        //     anchor: 'bottom',\n        //     direction: 'row',\n        //     justify: false,\n        //     translateX: 0,\n        //     translateY: 56,\n        //     itemsSpacing: 0,\n        //     itemWidth: 100,\n        //     itemHeight: 18,\n        //     itemTextColor: '#999',\n        //     itemDirection: 'left-to-right',\n        //     itemOpacity: 1,\n        //     symbolSize: 18,\n        //     symbolShape: 'circle',\n        //     effects: [\n        //         {\n        //             on: 'hover',\n        //             style: {\n        //                 itemTextColor: '#000'\n        //             }\n        //         }\n        //     ]\n        // }\n      ]\n    }\n  />\n);\n","// install (please make sure versions match peerDependencies)\n// yarn add @nivo/core @nivo/bar\nimport { ResponsiveBar } from '@nivo/bar';\n// make sure parent container have a defined height when using\n// responsive component, otherwise height will be 0 and\n// no chart will be rendered.\n// website examples showcase many properties,\n// you'll often use just a few of them.\n\n// const fill = [ { match: { id: 'fries' }, id: 'dots' }, { match: { id: 'sandwich' }, id: 'lines' }];\n//[ 'hot dog', 'burger', 'sandwich', 'kebab', 'fries', 'donut' ]\n\nexport const BarChart = ({\n  data /* see data tab */,\n  keys,\n  indexBy = 'country',\n}) => (\n  <ResponsiveBar\n    data={data}\n    keys={keys}\n    indexBy={indexBy}\n    margin={{ top: 50, right: 130, bottom: 50, left: 60 }}\n    padding={0.3}\n    valueScale={{ type: 'linear' }}\n    indexScale={{ type: 'band', round: true }}\n    valueFormat={{ format: '', enabled: false }}\n    colors={{ scheme: 'nivo' }}\n    defs={[\n      {\n        id: 'dots',\n        type: 'patternDots',\n        background: 'inherit',\n        color: '#38bcb2',\n        size: 4,\n        padding: 1,\n        stagger: true,\n      },\n      {\n        id: 'lines',\n        type: 'patternLines',\n        background: 'inherit',\n        color: '#eed312',\n        rotation: -45,\n        lineWidth: 6,\n        spacing: 10,\n      },\n    ]}\n    fill={[]}\n    borderColor={{ from: 'color', modifiers: [['darker', 1.6]] }}\n    axisTop={null}\n    axisRight={null}\n    axisBottom={{\n      tickSize: 5,\n      tickPadding: 5,\n      tickRotation: 0,\n      // legend: 'country',\n      legendPosition: 'middle',\n      legendOffset: 32,\n    }}\n    axisLeft={{\n      tickSize: 5,\n      tickPadding: 5,\n      tickRotation: 0,\n      // legend: 'Count',\n      legendPosition: 'middle',\n      legendOffset: -40,\n    }}\n    labelSkipWidth={12}\n    labelSkipHeight={12}\n    labelTextColor={{ from: 'color', modifiers: [['darker', 1.6]] }}\n    legends={[\n      {\n        dataFrom: 'keys',\n        anchor: 'bottom-right',\n        direction: 'column',\n        justify: false,\n        translateX: 120,\n        translateY: 0,\n        itemsSpacing: 2,\n        itemWidth: 100,\n        itemHeight: 20,\n        itemDirection: 'left-to-right',\n        itemOpacity: 0.85,\n        symbolSize: 20,\n        effects: [\n          {\n            on: 'hover',\n            style: {\n              itemOpacity: 1,\n            },\n          },\n        ],\n      },\n    ]}\n  />\n);\n","import React from 'react';\nimport { runRequest } from '@eeacms/search';\nimport { PieChart } from './PieChart';\nimport { BarChart } from './BarChart';\nimport { Grid, Table } from 'semantic-ui-react'; // , Segment\n\nconst REQUEST = {\n  size: 0,\n  aggs: {\n    Descriptors: {\n      terms: {\n        field: 'Descriptors',\n      },\n    },\n    Sectors: {\n      terms: {\n        field: 'Sector',\n      },\n    },\n    MeasureImpacts: {\n      terms: {\n        field: 'Measure Impacts to',\n      },\n    },\n    Origin: {\n      terms: {\n        field: 'Origin of the measure',\n      },\n    },\n    OriginByDescriptor: {\n      terms: {\n        field: 'Descriptors',\n      },\n      aggs: {\n        Origin: {\n          terms: {\n            field: 'Origin of the measure',\n          },\n        },\n      },\n    },\n  },\n};\n\nconst getMeasureImpacts = (data) => {\n  return data.MeasureImpacts.buckets.map(({ key, doc_count }) => ({\n    id: key,\n    label: key,\n    value: doc_count,\n  }));\n};\n\nconst getOriginOfMeasure = (data) => {\n  return data.Origin.buckets.map(({ key, doc_count }) => ({\n    id: key,\n    label: key,\n    value: doc_count,\n  }));\n};\n\nconst getSectors = (data) => {\n  return data.Sectors.buckets.map(({ key, doc_count }) => ({\n    id: key,\n    label: key,\n    value: doc_count,\n  }));\n};\n\nconst getBarChartData = (data) => {\n  return data.OriginByDescriptor.buckets.map(({ key, doc_count, Origin }) => ({\n    Descriptor: key,\n    ...Object.assign(\n      {},\n      ...Origin.buckets.map(({ key, doc_count }) => ({ [key]: doc_count })),\n    ),\n  }));\n};\n\nconst OriginTable = ({ columns, rows, data }) => {\n  return (\n    <Table>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Origin of measure</Table.HeaderCell>\n          {columns.map((col) => (\n            <Table.HeaderCell key={col}>{col}</Table.HeaderCell>\n          ))}\n        </Table.Row>\n        {rows.map((origin) => (\n          <Table.Row key={origin}>\n            <Table.HeaderCell>{origin}</Table.HeaderCell>\n            {columns.map((descriptor, i) => (\n              <Table.Cell key={`${i}-${descriptor}`}>\n                {data[i][origin]}\n              </Table.Cell>\n            ))}\n          </Table.Row>\n        ))}\n        <Table.Row>\n          <Table.HeaderCell>Total</Table.HeaderCell>\n          {data.map((item) => (\n            <Table.Cell key={item.Descriptor}>\n              {rows\n                .map((r) => parseInt(item[r]) || 0)\n                .reduce((a, b) => a + b, 0)}\n            </Table.Cell>\n          ))}\n        </Table.Row>\n      </Table.Header>\n    </Table>\n  );\n};\n\nconst ChartsIntro = (props) => {\n  const { appConfig } = props;\n  const [chartData, setChartData] = React.useState();\n\n  React.useEffect(() => {\n    let alreadyRequested = false;\n\n    async function fetchData() {\n      const resp = await runRequest(REQUEST, appConfig);\n      if (!alreadyRequested) setChartData(resp.body?.aggregations);\n    }\n    fetchData();\n    return () => {\n      alreadyRequested = true;\n    };\n  }, [appConfig]);\n\n  const barData = (chartData ? getBarChartData(chartData) : []).sort((a, b) =>\n    parseInt(a.Descriptor.slice(1)) > parseInt(b.Descriptor.slice(1)) ? 1 : -1,\n  );\n  // console.log('all', chartData);\n  console.log('barData', barData);\n\n  return (\n    <div className=\"charts-intro-page\">\n      {chartData ? (\n        <>\n          <Grid columns=\"3\" stackable>\n            <Grid.Row>\n              <Grid.Column mobile={16} tablet={16} computer={8}>\n                <div style={{ height: '400px' }}>\n                  <h3>Measure impacts to</h3>\n                  <PieChart data={getMeasureImpacts(chartData)} />\n                </div>\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={16} computer={8}>\n                <div style={{ height: '400px' }}>\n                  <h3>Origin of the measure</h3>\n                  <PieChart data={getOriginOfMeasure(chartData)} />\n                </div>\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={16} computer={8}>\n                <div style={{ height: '400px' }}>\n                  <h3>Sectors</h3>\n                  <PieChart data={getSectors(chartData)} />\n                </div>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <div style={{ height: '600px' }}>\n            <h3>Origin of the measure/Descriptors</h3>\n            <BarChart\n              data={barData}\n              keys={Object.keys(barData[1] || {}) // [0] doesn't have all keys\n                .filter((k) => k !== 'Descriptor')\n                .sort()}\n              indexBy=\"Descriptor\"\n            />\n          </div>\n          <OriginTable\n            data={barData}\n            columns={barData.map(({ Descriptor }) => Descriptor)}\n            rows={Object.keys(barData[1] || {})\n              .filter((k) => k !== 'Descriptor')\n              .sort()}\n          />\n        </>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\nexport default ChartsIntro;\n","import { suiFacet, mergeConfig } from '@eeacms/search'; // multiTermFacet,\nimport WiseLayout from './components/WiseLayout';\nimport ChartsIntro from './components/ChartsIntro';\n\nconst details = {\n  titleField: 'Measure name',\n  extraFields: [\n    {\n      field: 'Origin of the measure',\n      label: 'Origin of the measure',\n    },\n    {\n      field: 'Descriptors',\n      label: 'MSFD Descriptors',\n    },\n    {\n      field: 'Sector',\n      label: 'Sector',\n    },\n  ],\n  sections: [\n    {\n      fields: [\n        { field: 'Measure name' },\n        { field: 'Sector' },\n        { field: 'Use or activity' },\n        { field: 'Origin of the measure' },\n        { field: 'Nature of the measure' },\n        { field: 'Status' },\n        {\n          field: 'Measure Impacts to',\n          label: 'Measure impacts to',\n        },\n        {\n          field: 'Measure Impacts to (further details)',\n          label: 'Measure impacts to, further details ',\n        },\n        { field: 'Water body category' },\n        { field: 'Spatial scope' },\n        { field: 'Country', label: 'Country coverage' },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) =>\n        rec['Origin of the measure']?.raw === 'WFD (Directive 2000/60/EC)',\n      fields: [\n        { field: 'Nature of physical modification' },\n        { field: 'Effect on hydromorphology' },\n        { field: 'Ecological impacts' },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) =>\n        rec['Origin of the measure']?.raw === 'MSFD (Directive 2008/56/EC)',\n      fields: [\n        { field: 'Link to existing policies' },\n        { field: 'KTMs it links to' },\n        { field: 'Relevant targets' },\n        { field: 'Relevant features from MSFD Annex III' },\n        { field: 'Spatial  scope_MSFD', label: 'MSFD Spatial scope' },\n        { field: 'Keywords' },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => {\n        return (\n          rec['Origin of the measure']?.raw === 'HD (Directive 92/43/EEC)' &&\n          rec['MeasureCode'] &&\n          rec['MeasureCode'].raw.startsWith('HDH')\n        );\n      },\n      fields: [\n        { field: 'Measure purpose' },\n        { field: 'Measure type recommended to address E02 and/or E03' },\n        { field: 'Measure location' },\n        { field: 'Measure response' },\n        { field: 'Measure additional info' },\n        { field: 'Pressure type', label: 'Type of pressure' },\n        { field: 'Pressure name' },\n        { field: 'Ranking' },\n        { field: 'Region' },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => {\n        return (\n          rec['Origin of the measure']?.raw === 'HD (Directive 92/43/EEC)' &&\n          rec['MeasureCode'] &&\n          rec['MeasureCode'].raw.startsWith('HDSP')\n        );\n      },\n      fields: [\n        { field: 'Measure purpose' },\n        { field: 'Measure type recommended to address E02 and/or E03' },\n        { field: 'Measure location' },\n        { field: 'Measure response' },\n        { field: 'Measure additional info' },\n        { field: 'Pressure type', label: 'Type of pressure' },\n        { field: 'Pressure name' },\n        { field: 'Ranking' },\n        { field: 'Region', label: 'Marine region' },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) =>\n        rec['Origin of the measure']?.raw === 'BD (Directive 79/409/EEC)',\n      fields: [\n        { field: 'Measure purpose' },\n        { field: 'Measure type recommended to address E02 and/or E03' },\n        { field: 'Measure location' },\n        { field: 'Measure response' },\n        { field: 'Measure additional info' },\n        { field: 'Pressure type', label: 'Type of pressure' },\n        { field: 'Pressure name' },\n        { field: 'Ranking' },\n        { field: 'Season' },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) =>\n        rec['Origin of the measure']?.raw === 'MSPD (Directive 2008/56/EC)',\n      fields: [\n        { field: 'Nature of physical modification' },\n        { field: 'MSPD implementation status' },\n        { field: 'Shipping Tackled' },\n        { field: 'Traffic separation scheme' },\n        { field: 'Priority Areas' },\n        { field: 'Approaching Areas' },\n        { field: 'Precautionary areas' },\n        { field: 'Areas to be avoided' },\n        { field: 'Future Scenarios' },\n        { field: 'Source' },\n        { field: 'Keywords' },\n        { field: 'Authority' },\n        { field: 'General View' },\n        { field: 'Ports' },\n        { field: 'Future Expectations' },\n        { field: 'Safety manner' },\n        { field: 'Objective' },\n        { field: 'Categories' },\n      ],\n    },\n    {\n      title: 'Further information',\n      condition: (rec) => rec['Origin of the measure']?.raw === 'Sectorial',\n      fields: [\n        { field: 'Impacts' },\n        { field: 'Spatial scale' },\n        { field: 'Source', label: 'Source(s)' },\n      ],\n    },\n  ],\n};\n\nconst wise_config = {\n  host: 'http://localhost:7000',\n  elastic_index: 'es',\n  layoutComponent: 'WiseLayout',\n  searchBoxInputComponent: 'SimpleSearchInput',\n  // searchBoxComponent: 'searchui.SearchBox',\n  useSearchPhrases: false,\n  facets: [\n    suiFacet({\n      field: 'Origin of the measure',\n      label: 'Origin of the measure',\n      isFilterable: false,\n    }),\n    suiFacet({ field: 'Sector', isMulti: true, isFilterable: false }),\n    suiFacet({ field: 'Descriptors', isFilterable: false }),\n    // suiFacet({ field: 'Country', isFilterable: true, isMulti: true }),\n    // suiFacet({ field: 'Use_or_activity', label: 'Use or activity' }),\n    // suiFacet({ field: 'Status' }),\n    // suiFacet({\n    //   field: 'Nature_of_the_measure',\n    //   label: 'Nature of the measure',\n    // }),\n    // suiFacet({ field: 'Water_body_category', label: 'Water body category' }),\n    // suiFacet({ field: 'Spatial_scope', label: 'Spatial scope' }),\n    // suiFacet({ field: 'Measure_Impacts_to', label: 'Measure impacts' }),\n  ],\n  highlight: {\n    fields: {\n      // Measure_name: {},\n    },\n  },\n  sortOptions: [\n    {\n      name: 'Title',\n      value: 'Measure name',\n      direction: 'asc',\n    },\n  ],\n  tableViewParams: {\n    titleField: 'Measure name',\n    columns: [\n      {\n        title: 'Measure name',\n        field: 'Measure name',\n      },\n      {\n        title: 'Code',\n        field: 'id',\n      },\n      {\n        title: 'Origin of the measure',\n        field: 'Origin of the measure',\n      },\n      {\n        field: 'Descriptors',\n        label: 'MSFD Descriptors',\n      },\n      {\n        field: 'Sector',\n        label: 'Sector',\n      },\n    ],\n    details,\n  },\n  initialView: {\n    factory: 'ChartsIntro',\n  },\n  listingViewParams: {\n    titleField: 'Measure name',\n    // urlField: 'CodeCatalogue',\n    extraFields: [\n      {\n        field: 'Origin of the measure',\n        label: 'Origin of the measure',\n      },\n      {\n        field: 'Descriptors',\n        label: 'MSFD Descriptors',\n      },\n      {\n        field: 'Sector',\n        label: 'Sector',\n      },\n    ],\n    details,\n  },\n};\n\nconst wise_resolve = {\n  WiseLayout: {\n    component: WiseLayout,\n  },\n  ChartsIntro: {\n    component: ChartsIntro,\n  },\n};\n\nexport default function installDemo(config) {\n  config.searchui.wise = mergeConfig(wise_config, config.searchui.default);\n\n  config.resolve = mergeConfig(wise_resolve, config.resolve);\n\n  return config;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SearchApp, registry } from '@eeacms/search';\nimport installConfig from './config';\n\nimport '@elastic/react-search-ui-views/lib/styles/styles.css';\nimport '@eeacms/search-less/dist/main.css';\n\nimport './less/custom.less';\n\n// ++resource++measures-catalogue/\n// import './index.css';\n\nconst configRegistry = installConfig(registry);\n\nReactDOM.render(\n  <SearchApp registry={configRegistry} appName=\"wise\" />,\n  document.getElementById('search-app'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// import reportWebVitals from './reportWebVitals';\n// reportWebVitals();\n"],"sourceRoot":""}