requirejs.config({paths:{slick:["https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min"],jquery:["https://code.jquery.com/jquery-2.2.4.min"]}}),require(["jquery","slick"],function(a,b){function c(b){a(b).removeClass("open"),window.matchMedia("(min-width: 800px)").matches?a(".navmenu-items").animate({opacity:"hide"},{duration:80,complete:function(){a(".header-wave .menu-brand").animate({opacity:"show"},1),a(".menu .menu-brand").animate({opacity:"hide"},30),a(".menu").animate({height:"hide"},200)}}):a(".menu").animate({height:"hide"},200)}function d(b){a(b).addClass("open"),a(".menu").animate({height:"show"},{duration:200,complete:function(){window.matchMedia("(min-width: 800px)").matches&&(a(".navmenu-items").animate({opacity:"show"},30),$bgheight=a("body").height()-a(".menu > img").height(),a(".menu-bg").height($bgheight+3),a(".navmenu-items").css("display","flex"),a(".header-wave .menu-brand").animate({opacity:"hide"},30),a(".menu .menu-brand").animate({opacity:"show"},30))}})}function e(b){var c=b.length;b.each(function(b,d){var e=a(d).find(".option"),f=e.find("input[type='checkbox']").length>0;if(f){var g=a(d).attr("id"),h='<span class="controls" style="display: inline-block;background-color: #ddd;padding-top: 2px;padding-bottom: 2px;padding-left: 0;position: relative;  "><span style="font-size: 0.8em; margin-left: 5px;">Select :</span><a class="" data-value="all"><label><span class="label">All</span></label></a>',i='<a class="" data-value="none" ><label><span class="label">Clear all</span></label></a>',k='<a class="" data-value="invert"><label><span class="label">Invert selection</span></label></a><span class="ui-autocomplete"><span class=" search-icon" ></span><input class="ui-autocomplete-input" type="text" style="width: 90%;" /></span>',l=h+i+k;if(a(d).find("> label.horizontal").after(l),e.each(function(b,c){var d=a(e[b]).text();a(e[b]).attr("title",d.trim())}),e.length<4)a(d).find(".controls a").hide(),a(d).find(".controls").html("").css("height","1px").css("padding",0);else{a(d).addClass("panel-group");var m=a(d).find("> span:not(.controls)");m.css("border-radius",0),m.addClass(g+"-collapse"),m.addClass("collapse");var n=j(a(d).find(".option input[type='checkbox']:checked"));m.addClass("panel"),m.addClass("panel-default");var o=a(d).find(".horizontal"),p="<a data-toggle='collapse' class='accordion-toggle' >"+o.text()+"</a>";o.html(p),o.addClass("panel-heading").addClass("panel-title"),o.attr("data-toggle","collapse"),o.attr("data-target","."+g+"-collapse"),0===n.length?(m.collapse({toggle:!0}),m.collapse({toggle:!0}),a(d).find(".accordion-toggle").addClass("accordion-after")):(a(d).find(".controls").slideUp("fast"),m.collapse({toggle:!1})),m.on("hidden.bs.collapse",function(b){m.fadeOut("fast"),a(d).find(".controls").slideUp("fast"),a(d).css({"border-bottom":"1px solid #ccc;"})}),m.on("show.bs.collapse",function(b){m.fadeIn("fast"),a(d).find(".controls").slideDown("fast"),a(d).find("> span").css({display:"block"}),a(d).find(".accordion-toggle").addClass("accordion-after")}),m.on("hide.bs.collapse",function(b){setTimeout(function(){a(d).find(".accordion-toggle").removeClass("accordion-after")},600)}),e.length<6?a(d).find(".controls .ui-autocomplete").hide():a(d).find(".ui-autocomplete-input").autocomplete({minLength:0,source:[],search:function(b,c){var e=a(d).find(".option .label:not(.horizontal) ");if(""===a(b.target).val())return e.parentsUntil(".option").parent().parent().find(".noresults").remove(),e.parentsUntil(".option").parent().show(),!0;e.parentsUntil(".option").parent().show();var f=a(b.target).val().toLowerCase().replace(/\s/g,"_"),g=(new RegExp("^"+a.ui.autocomplete.escapeRegex(f),"i"),new RegExp(a.ui.autocomplete.escapeRegex(f),"i")),h={},i=(a(d).find(".option .label:not(.horizontal) ").map(function(b,c){return h[a(c).text().toLowerCase()]=a(c).text().toLowerCase().replace(/\s/g,"_"),a(c).text().toLowerCase().replace(/\s/g,"_")}),[]);a.each(h,function(a,b){g.test(b)||i.push(a)});var j=e.filter(function(b,c){return i.indexOf(a(c).text().toLowerCase())!==-1}),k=e.filter(function(b,c){return i.indexOf(a(c).text().toLowerCase())===-1});a.each(k,function(b,c){a(c).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!0)}),a.each(j,function(b,c){a(c).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!1),a(c).parentsUntil(".option").parent().hide()}),j.length===e.length&&(console.log("no result"),e.parentsUntil(".option").parent().parent().append("<span class='noresults'>No results found</span>"))}}),a(d).find(".search-icon").on("click",function(b){a(b.target).parent().find("input").trigger("focus")})}}--c||a(".wise-search-form-container, #wise-search-form").animate({opacity:1},1e3)})}function f(b){b.preventDefault();var c=a(this).parent().parent(),d=j(a(c).find("[type='checkbox']"));a.each(d,function(b,c){"all"!==a(d[b]).val()&&"none"!==a(d[b]).val()&&a(d[b]).prop("checked",!0)})}function g(b){b.preventDefault(),a(this).prop("checked",!1);var c=a(this).parent().parent(),d=j(a(c).find("[type='checkbox']"));a.each(d,function(b,c){a(d[b]).prop("checked",!1)})}function h(b){b.preventDefault(),a(this).prop("checked",!1);var c=a(this).parent().parent();console.log(a(this).parentsUntil(".field").parent());var d=j(a(c).find("[type='checkbox']")),e=d.filter(function(b,c){return a(c).is(":checked")}),f=d.filter(function(b,c){return!a(c).is(":checked")});a.each(e,function(b,c){a(e[b]).prop("checked",!1)}),a.each(f,function(b,c){a(f[b]).prop("checked",!0)})}function i(b){a(".controls").on("click","a[data-value='all']",f),a(".controls").on("click","a[data-value='none']",g),a(".controls").on("click","a[data-value='invert']",h)}function j(b){return b.filter(function(b,c){return n.indexOf(a(c).val())===-1})}function k(){var b=a(".wise-search-form-container, #wise-search-form").find("[data-fieldname]");b.on("click",".option",function(b){var c=a(this).find("input[type='checkbox']").val();n.indexOf(c)===-1&&a(b.target).find("input[type='checkbox']").trigger("click")})}function l(){a(".wise-search-form-container select").each(function(b,c){a(c).addClass("js-example-basic-single");var d=a(c).find("option").length<10,e={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!0,width:"100%",theme:"flat"};d&&(e.minimumResultsForSearch=1/0),a(c).select2(e),"form-widgets-marine_unit_id"===a(c).attr("id"),a(".wise-search-form-container #s2id_form-widgets-marine_unit_id").hide(),a(c).on("select2-selecting",function(b){"form-widgets-article"===a(this).attr("id"),a(".wise-search-form-container").find("[name='form.buttons.prev']").remove(),a(".wise-search-form-container").find("[name='form.buttons.next']").remove(),a(".wise-search-form-container").find("[name='form.widgets.page']").remove(),setTimeout(function(){a(".wise-search-form-container .formControls #form-buttons-continue").trigger("click")},300)})}),a("#wise-search-form select").each(function(b,c){a(c).addClass("js-example-basic-single");var d={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!0,width:"100%",theme:"flat",minimumResultsForSearch:1/0,containerCssClass:"select2-top-override",dropdownCssClass:"select2-top-override-dropdown"};a(c).select2(d),a(c).parentsUntil(".field").parent().prepend("<h4 style='display: inline-block;'> Marine Unit ID: </h4>"),a(c).on("select2-selecting",function(b){a(".wise-search-form-container #form-widgets-marine_unit_id").select2().val(b.val).trigger("change"),a(".wise-search-form-container #s2id_form-widgets-marine_unit_id").hide(),a(".wise-search-form-container .formControls #form-buttons-continue").trigger("click")})})}function m(){a("#tabs-wrapper ul li:first-child a").trigger("click"),a(".tabs-wrapper ul li:first-child a").trigger("click")}a(document).ready(function(){var b=a(".menu .navmenu-item > a");b.each(function(b,c){var d=a(this).parent().find(".submenu-item");0===d.length&&a(this).addClass("no-carret")});var e=a(".side-section .portlet-static-relevant-msfd-descriptors .portletItem p");if(e&&a(".side-section .portlet-static-relevant-msfd-descriptors .portletItem p").each(function(b){var c=a(this).find("strong");c.length>0&&(a(this).style.fontWeight="bold")}),window.matchMedia("(min-width: 800px)").matches&&!function(){function b(){c.children().css({display:"block"}),c.slick({autoplay:!0,autoplaySpeed:6e3,speed:1e3,easing:"easeOutQuint",adaptiveHeight:!1,nextArrow:"",prevArrow:"",useCSS:!1});var b,h=function(b,c,d){var e=c-b;0==c&&b==d-1&&(e=1),c==d-1&&0==b&&(e=-1),$currentImg=a(g[b]),$nextImg=a(g[c]),$nextImg.show();var f=100*e+"%";$nextImg.css({display:"block",transform:"translate3d("+f+", 0, 0)"}),a({percent:100*e}).animate({percent:0},{duration:1e3,easing:"easeOutQuint",step:function(a){$nextImg.css({transform:"translate3d("+a+"%, 0, 0)"})},done:function(){$currentImg.removeClass("current").hide(),$nextImg.addClass("current")}})};c.on("beforeChange",function(a,c,e,f){b=(f?f:0)+1,d.text(b+"/"+c.slideCount),h(e,f,c.slideCount)}),f.click(function(){c.slick("slickNext")}),e.click(function(){c.slick("slickPrev")})}jQuery.extend(jQuery.easing,{easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c}});var c=a("#hlslider-slides"),d=a("#hlslider-counter"),e=a("#hlslider-prev"),f=a("#hlslider-next"),g=a(".highlight-photos").children();a(document).ready(function(){var c=a(".highlight-placeholder"),d=a(g[0]);d.css({visibility:"visible"}).addClass("current"),b(),c.css("opacity","0")})}(),a(".login i").on("click",function(){a(this).toggleClass("action-selected"),a(".search i").removeClass("action-selected"),a(".login-container ").animate({height:"toggle"},200),a("#portal-searchbox ").animate({height:"hide"},200)}),a(".search i").on("click",function(){a(this).toggleClass("action-selected"),a(".login i").removeClass("action-selected"),a("#portal-searchbox ").animate({height:"toggle"},200),a(".login-container ").animate({height:"hide"},200)}),window.matchMedia("(max-width: 800px)").matches){var f=a("<span/>",{"class":"mobile_submenu_trigger fa fa-caret-right pull-right"});a(".navmenu-item .submenu .submenu-item").length>0&&a(".navmenu-item .submenu .submenu-item").parent().parent().prepend(f),a("body").on("click",".mobile_submenu_trigger",function(){a(this).toggleClass("rotate"),a(this).parent().find(".submenu").animate({height:"toggle"},200)})}a(".menu-label").click(function(){a(".mobile-menu-trigger i").click()}),a(".mobile-menu-trigger i").on("click",function(){a(this).hasClass("open")?c(this):d(this)}),a(".center-section").prepend('<button class="btn btn-primary pull-right toggle-sidebar">Open sidebar</button>'),a(".side-section").prepend('<button class="btn btn-danger close-sidebar">Close</button>'),a(".toggle-sidebar").on("click",function(){a(".side-section").addClass("show-sidebar")}),a(".close-sidebar").on("click",function(){a(".side-section").removeClass("show-sidebar")})});var n=["all","none","invert"];a.randomString=function(){for(var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",b=8,c="",d=0;d<b;d++){var e=Math.floor(Math.random()*a.length);c+=a.substring(e,e+1)}return c},a.getMultipartData=function(b){var c=a.randomString(),d="--"+c,e="",f="\r\n",g=(a(b).attr("id"),a(b).serializeArray());return 0!==g.length&&(a.each(g,function(a,b){e+=d+f+'Content-Disposition: form-data; name="'+b.name+'"'+f+f+b.value+f}),e+=d+"--"+f,[c,e])},e(a(".wise-search-form-container, #wise-search-form").find("[data-fieldname]")),i(a(".wise-search-form-container")),k(),l(),m(),a(".button-field").addClass("btn");var o=a(".center-section [name='form.buttons.prev']"),p=a(".center-section [name='form.buttons.next']");o.one("click",function(){a(".wise-search-form-container").find("form").append("<input type='hidden' name='form.buttons.prev' value='Prev'>"),a(".wise-search-form-container").find(".formControls #form-buttons-continue").trigger("click")}),p.one("click",function(){a(".wise-search-form-container").find("form").append("<input type='hidden' name='form.buttons.next' value='Next'>"),a(".wise-search-form-container").find(".formControls #form-buttons-continue").trigger("click")});var q=a("#form-buttons-prev").clone(!0),r=q.attr("id");q.attr("id",r+"-top"),a("#form-buttons-prev-top").append(q),a("#form-buttons-prev-top .btn").css("position","relative");var s=a("#form-buttons-next").clone(!0),t=s.attr("id");return s.attr("id",t+"-top"),a("#form-buttons-next-top").append(s),a(window).on("resize",function(){if(window.matchMedia("(max-width: 1024px)").matches){var b=a("#form-buttons-next-top");b.css("float","right"),a("#form-buttons-prev-top").after(b)}}),a(".wise-search-form-container #s2id_form-widgets-marine_unit_id").parentsUntil(".field").parent().hide(),a(".wise-search-form-container").unbind("click").on("click",".formControls #form-buttons-continue",function(b){b.preventDefault();var c=a(".wise-search-form-container").find("form"),d=c.attr("action"),f=(c.serialize(),a.getMultipartData("#"+c.attr("id")));a.ajax({type:"POST",contentType:"multipart/form-data; boundary="+f[0],cache:!1,data:f[1],dataType:"html",url:d,beforeSend:function(b,c){a(".wise-search-form-container").fadeOut("fast"),a("#wise-search-form").html(""),a("#wise-search-form").fadeOut("fast")},success:function(b,c,d){var f=a(b),g=f.find(".wise-search-form-container"),h=g.html(),j=f.find("#wise-search-form").html();a(".wise-search-form-container").html(h),a("#wise-search-form").html(j),e(a(".wise-search-form-container, #wise-search-form").find("[data-fieldname]")),i(a(".wise-search-form-container")),k(),a(".button-field").addClass("btn"),l(),m(),a(".wise-search-form-container #s2id_form-widgets-marine_unit_id").parentsUntil(".field").parent().hide();var n=a(".center-section [name='form.buttons.prev']"),o=a(".center-section [name='form.buttons.next']");n.one("click",function(){a(".wise-search-form-container").find("form").append("<input type='hidden' name='form.buttons.prev' value='Prev'>"),a(".wise-search-form-container").find(".formControls #form-buttons-continue").trigger("click")}),o.one("click",function(){a(".wise-search-form-container").find("form").append("<input type='hidden' name='form.buttons.next' value='Next'>"),a(".wise-search-form-container").find(".formControls #form-buttons-continue").trigger("click")});var p=a("#form-buttons-prev").clone(!0),q=p.attr("id");p.attr("id",q+"-top"),a("#form-buttons-prev-top").append(p),a("#form-buttons-prev-top .btn").css("position","relative");var r=a("#form-buttons-next").clone(!0),s=r.attr("id");r.attr("id",s+"-top"),a("#form-buttons-next-top").append(r)},complete:function(){a(".wise-search-form-container").fadeIn("fast"),a("#wise-search-form").fadeIn("fast"),a(".wise-search-form-container").find("[name='form.buttons.prev']").remove(),a(".wise-search-form-container").find("[name='form.buttons.next']").remove()},error:function(a,b,c){console.log(a)}})}),a(".wise-search-form-container").find("form").on("submit",function(a){a.preventDefault()}),jQuery.noConflict()});