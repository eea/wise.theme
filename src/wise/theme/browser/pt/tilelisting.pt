<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  lang="en"
  metal:use-macro="context/main_template/macros/master"
  i18n:domain="plone">

  <metal:content-core fill-slot="content-core">
    <metal:content-core define-macro="content-core">
      <div class="row">
        <div class="col-xs-12 col-md-4"
             tal:repeat="item context/listFolderContents">
          <tal:block
              tal:define="summary_id python: 'summary_' + item.title.lower().replace(' ', '_');
                          url python: item.absolute_url() + '/@@images/image'">

            <div class="tile-listing-wrapper">
              <a class="pat-plone-modal title"
                 tal:attributes="href python: '#' + summary_id">
                <div tal:condition="item/image"
                     class="tile-image tile-listing-image"
                     tal:attributes="style string:background-image:url('${url}')">
                </div>
                <h4 tal:content="item/title">Title</h4>
              </a>
            </div>

            <div tal:attributes="id summary_id"
                 style="display: none">
              <h1 tal:content="item/title">Title</h1>
              <div class="tile-listing-content">
                <div tal:condition="item/image"
                     class="tile-image tile-modal-image"
                     tal:attributes="style string:background-image:url('${url}')">
                </div>
                <div class="tile-desc">
                  <p tal:content="item/Description">Summary</p>
                  <a class="context"
                     tal:attributes="href python: item.absolute_url()">Read more</a>
                </div>
              </div>
            </div>

          </tal:block>
        </div>
      </div>
    </metal:content-core>
  </metal:content-core>
</html>
